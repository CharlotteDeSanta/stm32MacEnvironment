# MacosğŸ€„ï¸STM32å¼€å‘ç¯å¢ƒæ­å»º

## å‰è¨€

STM32æ˜¯æ„æ³•åŠå¯¼ä½“ï¼ˆSTMicroelectronicsï¼‰æ¨å‡ºçš„ä¸€ç³»åˆ—åŸºäºARM Cortex-Må†…æ ¸çš„å¾®æ§åˆ¶å™¨ã€‚ å®ƒä»¬å¹¿æ³›åº”ç”¨äºåµŒå…¥å¼ç³»ç»Ÿã€ç‰©è”ç½‘è®¾å¤‡ã€å·¥ä¸šè‡ªåŠ¨åŒ–ç­‰é¢†åŸŸã€‚
STM32ç³»åˆ—å¾®æ§åˆ¶å™¨å…·æœ‰é«˜æ€§èƒ½ã€ä½åŠŸè€—å’Œä¸°å¯Œçš„å¤–è®¾æ¥å£ï¼Œé€‚åˆå„ç§åº”ç”¨åœºæ™¯ã€‚æœ¬æ•™ç¨‹ä»¥stm32f103c8t6ä¸ºä¾‹ï¼Œä»‹ç»å¦‚ä½•åœ¨macosä¸Šæ­å»ºSTM32å¼€å‘ç¯å¢ƒã€‚

## 1. å®‰è£…Homebrew

Homebrewæ˜¯macOSä¸Šçš„ä¸€ä¸ªåŒ…ç®¡ç†å™¨ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å®‰è£…å’Œç®¡ç†è½¯ä»¶åŒ…ã€‚æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…Homebrewï¼š

```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

å®‰è£…å®Œæˆåï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ›´æ–°Homebrewï¼š

```bash
brew update
```

ç”±äºæŸäº›ä¸èƒ½è¯´çš„åŸå› ,åœ¨æŸäº›ä¸èƒ½è¯´çš„åœ°åŒºç›´æ¥å®‰è£…æˆ–æ›´æ–°ä¼šéå¸¸æ…¢ç”šè‡³å¤±è´¥,æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¤§é™†çš„é•œåƒæºæ¥åŠ é€Ÿå®‰è£…å’Œæ›´æ–°ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„é•œåƒæºï¼š

- æ¸…åå¤§å­¦é•œåƒæº

```bash
export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles
```

- ä¸­ç§‘å¤§é•œåƒæº

```bash
export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles
```

- é˜¿é‡Œäº‘é•œåƒæº

```bash
export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.aliyun.com/homebrew/bottles
```

è¿™äº›é•œåƒæºå¯ä»¥åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥è®¾ç½®ï¼š

```bash
vim ~/.zshrc
```

åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```bash
export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles
```

ä¿å­˜å¹¶é€€å‡ºåï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ä½¿é…ç½®ç”Ÿæ•ˆï¼š

```bash
source ~/.zshrc
```

ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨command+Qé€€å‡ºç»ˆç«¯ï¼Œç„¶åé‡æ–°æ‰“å¼€ç»ˆç«¯å³å¯ã€‚

## 2. å®‰è£…Xcode(å¯é€‰)ä¸Xcodeå‘½ä»¤è¡Œå·¥å…·

Xcodeæ˜¯è‹¹æœå…¬å¸ä¸ºmacOSå¼€å‘çš„é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰ï¼Œç”¨äºå¼€å‘appleç”Ÿæ€åº”ç”¨ç¨‹åºã€‚
è™½ç„¶æˆ‘ä»¬ä¸»è¦ä½¿ç”¨Clionè¿›è¡ŒSTM32å¼€å‘ï¼Œä½†å®‰è£…Xcodeå¯ä»¥æä¾›ä¸€äº›é¢å¤–çš„å·¥å…·å’ŒåŠŸèƒ½ã€‚
å¦‚æœä½ å·²ç»å®‰è£…äº†Xcodeï¼Œå¯ä»¥è·³è¿‡è¿™ä¸€æ­¥ã€‚
è¦å®‰è£…Xcodeï¼Œå¯ä»¥åœ¨App Storeä¸­æœç´¢â€œXcodeâ€å¹¶è¿›è¡Œå®‰è£…ã€‚å®‰è£…å®Œæˆåï¼Œæ‰“å¼€Xcodeå¹¶åŒæ„è®¸å¯åè®®ã€‚
è¦å®‰è£…Xcodeå‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä»¥åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
xcode-select --install
```

## 3. å®‰è£…Clion

Clionæ˜¯jetbrainså…¨å®¶æ¡¶çš„ä¸€å‘˜,ç”¨äºC/C++å¼€å‘,å¯¹äºä¹ æƒ¯äº†jetbrainsè½¯ä»¶(å¦‚idea,Android Studio)çš„äººæ¥è¯´
æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©,å¯ä»¥ç›´æ¥åœ¨jetbrainsçš„å®˜ç½‘ä¸‹è½½Clion,ä¸‹è½½å®Œæˆå,åŒå‡»å®‰è£…åŒ…è¿›è¡Œå®‰è£…å³å¯ã€‚
å®‰è£…å®Œæˆåï¼Œæ‰“å¼€Clionå¹¶åŒæ„è®¸å¯åè®®ã€‚

## 4. å®‰è£…stm32cubemx

STM32CubeMXæ˜¯STMicroelectronicsæä¾›çš„å›¾å½¢åŒ–é…ç½®å·¥å…·ï¼Œç”¨äºé…ç½®STM32å¾®æ§åˆ¶å™¨çš„å¤–è®¾å’Œç”Ÿæˆåˆå§‹åŒ–ä»£ç ã€‚
éœ€è¦æ³¨æ„çš„æ˜¯stm32cubemxåªæ”¯æŒä½¿ç”¨hal(hardware abstract layout)åº“ä»¥åŠLL(low-level library)åº“å¼€å‘,
ä¸æ”¯æŒä½¿ç”¨æ ‡å‡†å¤–è®¾åº“,ç”±äºå­¦æ ¡æ•™å­¦ä½¿ç”¨äº†æ ‡å‡†åº“,æ‰€ä»¥åœ¨ä»Šåçš„é¡¹ç›®ä¸­éœ€è¦åœ¨å®Œå…¨çœ‹æ‡‚æ ‡å‡†åº“ä»£ç åè‡ªè¡Œç§»æ¤,å¯¹è‡ªèº«èƒ½åŠ›è¦æ±‚è¾ƒé«˜,ä½†è¿™ä¹Ÿæ˜¯ç§é”»ç‚¼ä¸æ˜¯å—?
å¯ä»¥åœ¨STçš„å®˜ç½‘ä¸Šä¸‹è½½STM32CubeMX(macosç‰ˆæœ¬)ã€‚ç”±äºstæ²¡æœ‰æä¾›armæ¶æ„çš„å®‰è£…åŒ…,æ‰€ä»¥éœ€è¦ä½¿ç”¨Rosetta2æ¥æ‰“å¼€(
æ²¡æœ‰äººæ¯”è‹¹æœæ›´æ‡‚è½¬è¯‘ğŸ˜‚),rosetta2ä¼šåœ¨ä½ ç¬¬ä¸€æ¬¡åœ¨arm macè®¾å¤‡ä¸Š
æ‰“å¼€x86_64æ¶æ„çš„åº”ç”¨æ—¶è‡ªåŠ¨å®‰è£…,å¦‚æœæ²¡æœ‰å®‰è£…,å¯ä»¥åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š

```bash
/usr/sbin/softwareupdate --install-rosetta
```

å‡†å¤‡å®ŒæˆååŒå‡»stm32cubemxå®‰è£…åŒ…è¿›è¡Œå®‰è£…å³å¯,æ‰“å¼€STM32CubeMXåè¿è¡Œä¸€æ¬¡æ¥åŒæ„è®¸å¯åè®®ã€‚

## 5. å®‰è£…stm32cubeclt

STM32CubeCLTæ˜¯STMicroelectronicsæä¾›çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºåœ¨ç¬¬ä¸‰æ–¹ideä¸­è®¿é—®stm32cubeideçš„åŠŸèƒ½
å¦‚ä»£ç ç”Ÿæˆã€å›ºä»¶åº“ä¸‹è½½ç­‰ã€‚å¯ä»¥åœ¨STçš„å®˜ç½‘ä¸Šä¸‹è½½STM32CubeCLT(macosç‰ˆæœ¬)ã€‚å®‰è£…å®Œæˆåï¼Œæ‰“å¼€ç»ˆç«¯å¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
sudo cp -r /Applications/STM32CubeCLT.app/Contents/Resources/stm32cubeclt /usr/local/bin/
```

å°†STM32CubeCLTçš„å¯æ‰§è¡Œæ–‡ä»¶å¤åˆ¶åˆ°/usr/local/bin/ç›®å½•ä¸‹ï¼Œä»¥ä¾¿åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨ã€‚
æˆ–è€…å¯ä»¥æŠŠSTM32CubeCLTçš„å¯æ‰§è¡Œæ–‡ä»¶æ·»åŠ åˆ°zshç¯å¢ƒå˜é‡ä¸­ï¼Œå…·ä½“æ–¹æ³•å¦‚ä¸‹ï¼š

```bash
vim ~/.zshrc
```

åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```bash
export PATH=$PATH:/Applications/STM32CubeCLT.app/Contents/Resources
```

ä¿å­˜å¹¶é€€å‡ºåï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ä½¿é…ç½®ç”Ÿæ•ˆï¼š

```bash
source ~/.zshrc
```

ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨command+Qé€€å‡ºç»ˆç«¯ï¼Œç„¶åé‡æ–°æ‰“å¼€ç»ˆç«¯å³å¯ã€‚

## 6.å®‰è£…ä½ ä½¿ç”¨çš„è°ƒè¯•å™¨å¯¹åº”çš„é©±åŠ¨

macosä¸Šæ”¯æŒæœ€å¥½çš„è°ƒè¯•å™¨å¤§æ¦‚æ˜¯JLink,Seggerä¸ºå®ƒå‡†å¤‡äº†armæ¶æ„macosçš„é©±åŠ¨
å¯ä»¥åœ¨Seggerçš„å®˜ç½‘ä¸‹è½½é©±åŠ¨,å®‰è£…å®Œæˆå,æ‰“å¼€ç»ˆç«¯å¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
sudo cp -r /Applications/SEGGER/ä½ çš„jlinké©±åŠ¨ç‰ˆæœ¬/Contents/Resources/JLink /usr/local/bin/
```

ä¸è¿‡è¿™ä¸€æ­¥ä½ å¤§å¯ä»¥çœç•¥,clionä¼šè‡ªåŠ¨å¤„ç†è¿™äº›å·¥å…·é“¾çš„è·¯å¾„

## 7.å®‰è£…arm-none-eabi-gcc

è¿™æ˜¯æœ€é‡è¦çš„ä¸€æ­¥,arm-none-eabi-gccæ˜¯armä¸ºcortex-mæ¶æ„è®¾è®¡çš„çš„gccäº¤å‰ç¼–è¯‘å™¨,ç”¨äºç¼–è¯‘stm32çš„ä»£ç 
åœ¨å¾ˆå¤šç½‘ä¸Šçš„æ•™ç¨‹ä¸­,éƒ½ä½¿ç”¨homebrewå®‰è£…,homebrewçš„ç‰ˆæœ¬ç¼ºå°‘äº†å‡ ä¸ªå…³é”®çš„å¤´æ–‡ä»¶,æˆ‘åœ¨redditä¸Šè‹¦è‹¦æŒ£æ‰äº†ä¸€æ™šä¸Šæ‰ææ˜ç™½æ˜¯homebrewçš„é—®é¢˜
æ‰€ä»¥æˆ‘ä»¬åœ¨armå®˜ç½‘ä¸Š:https://developer.arm.com/downloads/-/arm-gnu-toolchain-downloads ä¸‹è½½macosç‰ˆæœ¬çš„tar.xz
![arm-none-eabi-gcc](arm eabi.png)
ä¸‹è½½å®Œååœ¨ä½ ä¸“é—¨ç”¨æ¥å­˜æ”¾å·¥å…·é“¾çš„ç›®å½•ä¸‹è§£å‹,ä¸è¿‡æˆ‘ä¼°è®¡ä½ ä»¬æ²¡è¿™ä¸ªä¹ æƒ¯,æ‰€ä»¥éšä¾¿è§£å‹åˆ°ä¸€ä¸ªä½ è®°å¾—ä½çš„ç›®å½•å³å¯
è§£å‹å®Œæˆå,æ‰“å¼€ç»ˆç«¯å¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
cd ä½ è§£å‹çš„ç›®å½•
```

```bash
sudo cp -r ç¬¬ä¸€æ¬¡è§£å‹åˆ°çš„ç»å¯¹è·¯å¾„/bin/arm-none-eabi-gcc /usr/local/bin/
```

```bash
sudo cp -r ç¬¬ä¸€æ¬¡è§£å‹åˆ°çš„ç»å¯¹è·¯å¾„/bin/arm-none-eabi-gdb /usr/local/bin/
```

```bash
sudo cp -r ç¬¬ä¸€æ¬¡è§£å‹åˆ°çš„ç»å¯¹è·¯å¾„/bin/arm-none-eabi-gdbserver /usr/local/bin/
```

```bash
sudo cp -r ç¬¬ä¸€æ¬¡è§£å‹åˆ°çš„ç»å¯¹è·¯å¾„/bin/arm-none-eabi-gdbtui /usr/local/bin/
```

```bash
sudo cp -r ç¬¬ä¸€æ¬¡è§£å‹åˆ°çš„ç»å¯¹è·¯å¾„/bin/arm-none-eabi-gcov /usr/local/bin/
```

```bash
sudo cp -r ç¬¬ä¸€æ¬¡è§£å‹åˆ°çš„ç»å¯¹è·¯å¾„/bin/arm-none-eabi-gcov-dump /usr/local/bin/
```

```bash
sudo cp -r ç¬¬ä¸€æ¬¡è§£å‹åˆ°çš„ç»å¯¹è·¯å¾„/bin/arm-none-eabi-gcov-tool /usr/local/bin/
```

```bash
sudo cp -r ç¬¬ä¸€æ¬¡è§£å‹åˆ°çš„ç»å¯¹è·¯å¾„/bin/arm-none-eabi-gprof /usr/local/bin/
```

```bash
sudo cp -r ç¬¬ä¸€æ¬¡è§£å‹åˆ°çš„ç»å¯¹è·¯å¾„/bin/arm-none-eabi-ld /usr/local/bin/
```

```bash
sudo cp -r ç¬¬ä¸€æ¬¡è§£å‹åˆ°çš„ç»å¯¹è·¯å¾„/bin/arm-none-eabi-objcopy /usr/local/bin/
```

```bash
sudo cp -r ç¬¬ä¸€æ¬¡è§£å‹åˆ°çš„ç»å¯¹è·¯å¾„/bin/arm-none-eabi-objdump /usr/local/bin/
```

å®åœ¨å¤ªtmçƒ¦äº†ä¸æ˜¯å—?

# é€—é€—ä½ çš„å‘€ ğŸ¤“

è¿™å°±ä¸å¾—ä¸è¯´å‡†å¤‡ä¸€ä¸ªå®‰æ”¾å·¥å…·é“¾çš„ä¸“é—¨ç›®å½•çš„å¥½å¤„äº†,åªéœ€åœ¨zshrcé‡Œæ·»åŠ ä»¥ä¸‹å†…å®¹å³å¯

```bash
export PATH=$PATH:ä½ è§£å‹çš„ç›®å½•/bin
```

ä¸€å¥è¯å°±æå®šäº†

## 8.å¼€å§‹é…ç½®Clion

å…³äºå¦‚ä½•åœ¨Clionä¸­å¯¼å…¥STM32é¡¹ç›®,jetbrainså®˜ç½‘ä¸Šæœ‰è¯¦ç»†çš„æ–‡æ¡£è¯´æ˜
https://www.jetbrains.com/help/clion/embedded-development.html
è‹±è¯­å¥½å¯ä»¥ç›´æ¥çœ‹å®˜æ–¹æ–‡æ¡£,ä¸å¥½å°±å¬æˆ‘ç»†ç»†é“æ¥å§

### 1.æ‰“å¼€Clion,ç‚¹å‡» "New Project", åœ¨embeddedä¸‹é€‰æ‹©STM32CubeMX

![new project](new_project.png)
å¦‚æœä½ çš„stm32cubemxå’Œstm32cubecltéƒ½æ˜¾ç¤ºâœ…Found,è¯´æ˜ç¯å¢ƒé…ç½®ç›®å‰æ²¡é—®é¢˜

### 2.ç‚¹å‡»ä¸‹æ–¹çš„ "Launch STM32CubeMX" æŒ‰é’®,é€‰æ‹©ä½ è¦ä½¿ç”¨çš„èŠ¯ç‰‡å‹å·,è¿™é‡Œä»¥ä¸Šè¯¾ç”¨çš„stm32f103c8t6ä¸ºä¾‹

### 3.åœ¨å…¶ä¸­é…ç½®ä½ éœ€è¦ç”¨åˆ°çš„å¤–è®¾,æ—¶é’Ÿ,å¼•è„š,å®Œæˆååˆ‡æ¢åˆ°"Project Manager",æ ¹æ®æˆ‘ç»™å‡ºçš„å›¾ç‰‡é…ç½®

é¡¹ç›®è·¯å¾„å¯ä»¥è·Ÿæˆ‘çš„ä¸ä¸€æ ·,é€‰æ‹©è‡ªå·±æƒ³è¦çš„ç›®å½•å³å¯,ä½†æ˜¯é¡¹ç›®ç›®å½•ç»“æ„å¿…é¡»å’Œæˆ‘çš„ä¸€è‡´
![project manager](project_manager.png)

### 4.ç‚¹å‡»Generate Codeç”ŸæˆåŸºæœ¬ä»£ç 

è®°ä½ä¹‹å‰ä½ é€‰æ‹©çš„è·¯å¾„,åœ¨clionçš„æ–°å»ºé¡¹ç›®é¡µå¡«ä¸Šè·¯å¾„å³å¯æ‰“å¼€

### 5.æ‰“å¼€é¡¹ç›®ä¹‹åä¼šå‡ºç°ä¸€ä¸ªOpen OCD Board Config Filesçª—å£,å› ä¸ºä¸æ‰“ç®—ä½¿ç”¨Open OCDæ‰€ä»¥ç›´æ¥ç‚¹å‡»Cancel

![open ocd](open_ocd.png)

### 6.æ¥ä¸‹æ¥è¦é…ç½®JLink GDB Server,ç”¨æ¥è°ƒè¯•STM32

ç‚¹å‡»Run->New Embedded Configuration...
![new configuration](new_configuration.png)

### 7.åœ¨å¼¹å‡ºçš„çª—å£ä¸­,æŒ‰ç…§æˆ‘ç»™å‡ºçš„å›¾ç‰‡é…ç½®

![configuration](configuration.png)

#### GDB Server type:

é€‰æ‹©ä½¿ç”¨çš„GDB Server,æˆ‘ä»¬é€‰æ‹©JLink,Clionä¼šè‡ªåŠ¨å†™å¥½è°ƒè¯•æ—¶çš„å‚æ•°

#### Location:

æŒ‡å®šGDB Serverçš„ç»å¯¹è·¯å¾„,å¯¹JLinkæ¥è¯´,å¯ä»¥ç›´æ¥ä½¿ç”¨/usr/local/bin/JLinkGDBServer
![jlinkGdbServer](jlinkGdbServer.png)
(å·²ç»å¸®ä½ ä»¬çœ‹è¿‡äº†,ä¸¥æ ¼æŒ‰ç…§æ­¥éª¤å®‰è£…çš„è·¯å¾„å°±åœ¨è¿™é‡Œ)

#### Debugger:

é€‰æ‹©GDBè°ƒè¯•å™¨,è¿™é‡Œçš„GDBè°ƒè¯•å™¨æŒ‡çš„æ˜¯è¿è¡Œåœ¨Clionä¸Šçš„GDBè°ƒè¯•å™¨,å¯ä»¥é€‰æ‹©arm-none-eabi-gdb

#### Target and Executable binary:

é€‰æ‹©è¦æ„å»ºçš„ç›®æ ‡å’Œè¦ä¸‹è½½(å¤§é™†ä¸€èˆ¬å«çƒ§å½•)åˆ°è®¾å¤‡çš„binæˆ–è€…elf,hex

#### Download executable:

æŒ‡å®šä»€ä¹ˆæ—¶å€™è¦æŠŠæ–‡ä»¶çƒ§å½•åˆ°æ¿å­ä¸Š

#### Always:

æ¯æ¬¡å¼€å§‹è°ƒè¯•éƒ½çƒ§å½•

#### If updated:

åªæœ‰åœ¨ä»£ç å˜æ›´åæ‰çƒ§å½•

#### None:

è·³è¿‡çƒ§å½•

#### TCP/IP port:

æ˜¾ç¤ºæŒ‡å®šGDB Serverç”¨çš„ç«¯å£,æˆ‘ä¹Ÿä¸çŸ¥é“JLinké»˜è®¤ä½¿ç”¨çš„å“ªä¸ª,å°±ä¿æŒé»˜è®¤å°±å¥½

### 8.ç‚¹å‡»next,å¼€å§‹é€‰æ‹©èŠ¯ç‰‡å…·ä½“å‹å·,è°ƒè¯•åè®®,å’Œåˆå§‹é€Ÿåº¦

![jLink](jlink.png)
æˆ‘ä»¬çš„æ ¸å¿ƒæ¿åªæœ‰SWDæ¥å£,é€Ÿåº¦ä¿æŒé»˜è®¤,ä¸‹æ–¹çš„æ”¯æŒèŠ¯ç‰‡åˆ—è¡¨å¾ˆé•¿
å¯ä»¥ç›´æ¥command+f

### 9.å¦‚ä½•ä¿®æ”¹ç°æœ‰çš„é…ç½®

è¿™ä¸€å—åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æœ‰è¯´æ˜,å¾ˆç®€å•,ä¸åœ¨æ­¤èµ˜è¿°
![adjust GDB](adjustGDB.png)

## 10.å¦‚ä½•ä½¿ç”¨

å…¶å®å¾ˆç®€å•,å°±åƒå†™ä¸€ä¸ªæ™®é€šçš„c/c++ç¨‹åºä¸€æ ·è°ƒè¯•

### å®Œæˆåçš„æ•´ä½“é¡¹ç›®ç»“æ„

![project structure](project_structure.png)

### è°ƒè¯•

![pause](pause.png)

### æŸ¥çœ‹å¤–è®¾å¯„å­˜å™¨(éœ€è¦ä½ è°ƒè¯•çš„èŠ¯ç‰‡çš„svdæ–‡ä»¶)

å¯ä»¥åœ¨è¿™é‡Œæˆ–è€…stçš„å®˜ç½‘ä¸‹è½½: https://github.com/modm-io/cmsis-svd-stm32
![svd](svd.png)

## å¦‚æœä¸€åˆ‡é¡ºåˆ©çš„è¯ç°åœ¨å°±å¯ä»¥åœ¨macä¸Šæ„‰å¿«çš„å­¦ä¹ åµŒå…¥å¼äº†

>"ä¸€è§‰é†’æ¥,å…¨ä¸–ç•ŒåµŒå…¥å¼å¼€å‘æ°´å¹³ä¸‹é™ä¸€ä¸‡å€è€Œæˆ‘ä¸å˜,è¯¾å ‚ä¸Šæˆ‘é™é™çš„çœ‹ç€å¤§å®¶æŠ“è€³æŒ è…®ä¸çŸ¥å¦‚ä½•æ‰“å¼€keil,
> æˆ‘ååˆ†ä¸å±‘,è€å¸ˆè¯´æœ‰æœ¬äº‹ç”¨halåº“å®ç°ä¸€ä¸ªledé—ªçƒ,ä¸,å“ªæ€•åªæ˜¯ç”¨cubemxé…ç½®ç‚¹äº®ä¸€ä¸ªledéƒ½è¡Œ,æˆ‘è½»è”‘åœ°ç¬‘äº†ç¬‘,éšæ‰‹å®ç°äº†ä¸€ä¸ªä¸²å£æ”¶å‘æ§åˆ¶ledä¾‹ç¨‹,
> æˆ‘çœ‹ç€åŒå­¦ä»¬åƒæƒŠçš„æ ·å­,å¤§å®¶éƒ½é¸¦é›€æ— å£°,è€å¸ˆæ¿€åŠ¨çš„æ¡ä½æˆ‘çš„æ‰‹,çƒ­æ³ªç›ˆçœ¶çš„è¯´æ²¡æƒ³åˆ°
> èƒ½æ”¹å˜æ•´ä¸ªåµŒå…¥å¼è½¯ä»¶è®¾è®¡çš„å¤©æ‰å±…ç„¶å‡ºç°åœ¨äº†æ— é”¡ç§‘æŠ€èŒä¸šå­¦é™¢! ä½ åœ¨å‘¨å›´äººç¾¡æ…•è€Œåˆå´‡æ‹œçš„çœ¼ç¥ä¸­
> æš—è‡ªå¾—æ„,ä»¿ä½›å·²ç»çœ‹åˆ°è‡ªå·±åå£°å¤§å™ª,æˆä¸ºåµŒå…¥å¼ç•Œä¼ å¥‡äººç‰©çš„è¾‰ç…Œæœªæ¥

#### æ¿å­ç”»é”™ç”µå®¹çˆ†ç‚¸è¢«ç‚¸æ­»å‰çš„å¹»æƒ³

## å‚è€ƒ

https://www.jetbrains.com/help/clion/embedded-overview.html
https://www.jetbrains.com/help/clion/embedded-development.html
https://www.jetbrains.com/help/clion/embedded-gdb-server.html
https://www.jetbrains.com/help/clion/peripheral-view.html

## ç‰¹åˆ«æ„Ÿè°¢

- [@æµ™æ±Ÿä¸­çƒŸå·¥ä¸šæœ‰é™è´£ä»»å…¬å¸](http://www.zjtobacco.com/nportal/CustomPage#Home) å¯¹æœ¬äººå°¼å¤ä¸éœ€æ±‚çš„å¤§åŠ›æ”¯æŒ
- [@åº“è¿ªå’–å•¡](https://www.cotticoffee.com) å¯¹æœ¬äººå’–å•¡å› éœ€æ±‚çš„å¤§åŠ›æ”¯æŒ
- [@æ±Ÿè‹ç†å·¥å­¦é™¢](http://www.jstu.edu.cn),[@æ— é”¡ç§‘æŠ€èŒä¸šå­¦é™¢](https://www.wxstc.cn) é‡ç”Ÿä¹‹æˆ‘åœ¨ç§‘é™¢è¯»æœ¬ç§‘